!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){function r(e,t){return e.ctrlKey==(t.ctrlKey||!1)&&e.altKey==(t.altKey||!1)&&e.shiftKey==(t.shiftKey||!1)&&e.metaKey==(t.metaKey||!1)&&e.keyCode==(t.keyCode||0)&&e.charCode==(t.charCode||0)||(e=i.createEvent("Event"),e.initEvent(t.type,t.bubbles,t.cancelable),e.ctrlKey=t.ctrlKey||!1,e.altKey=t.altKey||!1,e.shiftKey=t.shiftKey||!1,e.metaKey=t.metaKey||!1,e.keyCode=t.keyCode||0,e.charCode=t.charCode||0),e}var i=(e("global/window"),e("global/document")),o=(i.documentElement||{},!0);try{i.createEvent("KeyEvents")}catch(s){o=!1}var a=function(e,t){t=t||{};var n=f(e),s=n;"KeyboardEvent"===n&&o&&(n="KeyEvents",s="KeyEvent");var a=i.createEvent(n),u="init"+s,l="function"==typeof a[u]?u:"initEvent",p=c[l],g=[],d={};t.type=e;for(var h=0;h<p.length;++h){var y=p[h],v=t[y];void 0===v&&(v=a[y]),d[y]=!0,g.push(v)}a[l].apply(a,g),"KeyboardEvent"===n&&(a=r(a,t));for(var y in t)d[y]||(a[y]=t[y]);return a},u=function(e,t){t=t||{};var n=i.createEventObject();n.type=e;for(var r in t)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports=i.createEvent?a:u;var c=e("./init.json"),l=e("./types.json"),f=function(){var e={};for(var t in l)for(var n=l[t],r=0;r<n.length;r++)e[n[r]]=t;return function(t){return e[t]||"Event"}}()},{"./init.json":2,"./types.json":3,"global/document":7,"global/window":8}],2:[function(e,t,n){t.exports={initEvent:["type","bubbles","cancelable"],initUIEvent:["type","bubbles","cancelable","view","detail"],initMouseEvent:["type","bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initMutationEvent:["type","bubbles","cancelable","relatedNode","prevValue","newValue","attrName","attrChange"],initKeyboardEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initKeyEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"]}},{}],3:[function(e,t,n){t.exports={MouseEvent:["click","mousedown","mouseup","mouseover","mousemove","mouseout"],KeyboardEvent:["keydown","keyup","keypress"],MutationEvent:["DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMAttrModified","DOMCharacterDataModified"],HTMLEvents:["load","unload","abort","error","select","change","submit","reset","focus","blur","resize","scroll"],UIEvent:["DOMFocusIn","DOMFocusOut","DOMActivate"]}},{}],4:[function(e,t,n){function r(e,t){return g.isUndefined(t)?""+t:g.isNumber(t)&&!isFinite(t)?t.toString():g.isFunction(t)||g.isRegExp(t)?t.toString():t}function i(e,t){return g.isString(e)?e.length<t?e:e.slice(0,t):e}function o(e){return i(JSON.stringify(e.actual,r),128)+" "+e.operator+" "+i(JSON.stringify(e.expected,r),128)}function s(e,t,n,r,i){throw new y.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function a(e,t){e||s(e,!0,t,"==",y.ok)}function u(e,t){if(e===t)return!0;if(g.isBuffer(e)&&g.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return g.isDate(e)&&g.isDate(t)?e.getTime()===t.getTime():g.isRegExp(e)&&g.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:g.isObject(e)||g.isObject(t)?l(e,t):e==t}function c(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function l(e,t){if(g.isNullOrUndefined(e)||g.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(g.isPrimitive(e)||g.isPrimitive(t))return e===t;var n=c(e),r=c(t);if(n&&!r||!n&&r)return!1;if(n)return e=d.call(e),t=d.call(t),u(e,t);var i,o,s=v(e),a=v(t);if(s.length!=a.length)return!1;for(s.sort(),a.sort(),o=s.length-1;o>=0;o--)if(s[o]!=a[o])return!1;for(o=s.length-1;o>=0;o--)if(i=s[o],!u(e[i],t[i]))return!1;return!0}function f(e,t){return e&&t?"[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t?!0:t.call({},e)===!0:!1}function p(e,t,n,r){var i;g.isString(n)&&(r=n,n=null);try{t()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&s(i,n,"Missing expected exception"+r),!e&&f(i,n)&&s(i,n,"Got unwanted exception"+r),e&&i&&n&&!f(i,n)||!e&&i)throw i}var g=e("util/"),d=Array.prototype.slice,h=Object.prototype.hasOwnProperty,y=t.exports=a;y.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var t=e.stackStartFunction||s;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=t.name,a=r.indexOf("\n"+i);if(a>=0){var u=r.indexOf("\n",a+1);r=r.substring(u+1)}this.stack=r}}},g.inherits(y.AssertionError,Error),y.fail=s,y.ok=a,y.equal=function(e,t,n){e!=t&&s(e,t,n,"==",y.equal)},y.notEqual=function(e,t,n){e==t&&s(e,t,n,"!=",y.notEqual)},y.deepEqual=function(e,t,n){u(e,t)||s(e,t,n,"deepEqual",y.deepEqual)},y.notDeepEqual=function(e,t,n){u(e,t)&&s(e,t,n,"notDeepEqual",y.notDeepEqual)},y.strictEqual=function(e,t,n){e!==t&&s(e,t,n,"===",y.strictEqual)},y.notStrictEqual=function(e,t,n){e===t&&s(e,t,n,"!==",y.notStrictEqual)},y["throws"]=function(e,t,n){p.apply(this,[!0].concat(d.call(arguments)))},y.doesNotThrow=function(e,t){p.apply(this,[!1].concat(d.call(arguments)))},y.ifError=function(e){if(e)throw e};var v=Object.keys||function(e){var t=[];for(var n in e)h.call(e,n)&&t.push(n);return t}},{"util/":15}],5:[function(e,t,n){},{}],6:[function(e,t,n){"use strict";var r=e("@bendrucker/synthetic-dom-events"),i=e("assert");t.exports=function(e,t,n){return i(e,"A DOM element is required"),"string"==typeof t&&(t=r(t,n)),e.dispatchEvent(t),t}},{"@bendrucker/synthetic-dom-events":1,assert:4}],7:[function(e,t,n){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":5}],8:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],10:[function(e,t,n){"use strict";var r=e("number-is-nan");t.exports=Number.isFinite||function(e){return!("number"!=typeof e||r(e)||e===1/0||e===-(1/0))}},{"number-is-nan":12}],11:[function(e,t,n){"use strict";var r=e("is-finite");t.exports=Number.isInteger||function(e){return r(e)&&Math.floor(e)===e}},{"is-finite":10}],12:[function(e,t,n){"use strict";t.exports=Number.isNaN||function(e){return e!==e}},{}],13:[function(e,t,n){function r(){l&&a&&(l=!1,a.length?c=a.concat(c):f=-1,c.length&&i())}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var a,u=t.exports={},c=[],l=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],14:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],15:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&j(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return m(i)||(i=u(e,i,r)),i}var o=c(e,t);if(o)return o;var s=Object.keys(t),h=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),M(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(t);if(0===s.length){if(j(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(T(t))return e.stylize(Date.prototype.toString.call(t),"date");if(M(t))return l(t)}var v="",b=!1,E=["{","}"];if(d(t)&&(b=!0,E=["[","]"]),j(t)){var w=t.name?": "+t.name:"";v=" [Function"+w+"]"}if(O(t)&&(v=" "+RegExp.prototype.toString.call(t)),T(t)&&(v=" "+Date.prototype.toUTCString.call(t)),M(t)&&(v=" "+l(t)),0===s.length&&(!b||0==t.length))return E[0]+v+E[1];if(0>r)return O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=b?f(e,t,r,h,s):s.map(function(n){return p(e,t,r,h,n,b)}),e.seen.pop(),g(x,v,E)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],s=0,a=t.length;a>s;++s)N(t,String(s))?o.push(p(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}function p(e,t,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),N(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=y(n)?u(e,c.value,null):u(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function g(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return null==e}function b(e){return"number"==typeof e}function m(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function w(e){return void 0===e}function O(e){return x(e)&&"[object RegExp]"===S(e)}function x(e){return"object"==typeof e&&null!==e}function T(e){return x(e)&&"[object Date]"===S(e)}function M(e){return x(e)&&("[object Error]"===S(e)||e instanceof Error)}function j(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function S(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),z[e.getMonth()],t].join(" ")}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D=/%[sdj%]/g;n.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(D,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];o>n;a=r[++n])s+=y(a)||!x(a)?" "+a:" "+i(a);return s},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var K,I={};n.debuglog=function(e){if(w(K)&&(K=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!I[e])if(new RegExp("\\b"+e+"\\b","i").test(K)){var r=t.pid;I[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else I[e]=function(){};return I[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=h,n.isNull=y,n.isNullOrUndefined=v,n.isNumber=b,n.isString=m,n.isSymbol=E,n.isUndefined=w,n.isRegExp=O,n.isObject=x,n.isDate=T,n.isError=M,n.isFunction=j,n.isPrimitive=k,n.isBuffer=e("./support/isBuffer");var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":14,_process:13,inherits:9}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return new CustomEvent(e,{detail:{tag:t}})}function o(e,t){return new CustomEvent(e,{cancelable:!0,detail:{tag:t}})}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("dispatch-event"),u=e("./util/object-is"),c=e("./util/type-error-message"),l=function(){function e(t,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];r(this,e),this.buttonElement=document.createElement("button"),this.popupElement=document.createElement("span"),this.setButtonAttributes(i),this.setPopupAttributes(o),this.setPosition(t.x,t.y),this.setText(n),this.hide()}return s(e,[{key:"show",value:function(){var e=o("taggd.tag.show",this),t=!a(this.popupElement,e);if(!t){this.popupElement.style.display="";var n=i("taggd.tag.shown",this);a(this.popupElement,n)}return this}},{key:"hide",value:function(){var e=o("taggd.tag.hide",this),t=!a(this.popupElement,e);if(!t){this.popupElement.style.display="none";var n=i("taggd.tag.hidden",this);a(this.popupElement,n)}return this}},{key:"setText",value:function(e){if(!u.ofType(e,"string")&&u["function"](e))throw new Error(c.getMessage(type,"a string or a function"));var t=o("taggd.tag.change",this),n=!a(this.popupElement,t);if(!n){u["function"](e)?this.popupElement.innerHTML=e(this):this.popupElement.innerHTML=e;var r=i("taggd.tag.changed",this);a(this.popupElement,r)}return this}},{key:"setPosition",value:function(t,n){if(!u.number(t))throw new Error(c.getIntegerMessage(t));if(!u.number(n))throw new Error(c.getIntegerMessage(n));var r=o("taggd.tag.change",this),s=!a(this.popupElement,r);if(!s){var l=e.getPositionStyle(t,n);this.popupElement.style.left=l.left,this.popupElement.style.top=l.top;var f=i("taggd.tag.changed",this);a(this.popupElement,f)}return this}},{key:"setButtonAttributes",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=o("taggd.tag.change",this),r=!a(this.buttonElement,n);if(!r){e.setElementAttributes(this.buttonElement,t);var s=i("taggd.tag.changed",this);a(this.buttonElement,s)}return this}},{key:"setPopupAttributes",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=o("taggd.tag.change",this),r=!a(this.popupElement,n);if(!r){e.setElementAttributes(this.popupElement,t);var s=i("taggd.tag.changed",this);a(this.popupElement,s)}return this}}],[{key:"setElementAttributes",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!u.ofType(t,"object"))throw new Error(c.getObjectMessage(t));for(var n in t){var r=t[n];if("class"===n&&e.getAttribute(n)){var i=e.getAttribute(n)+(" "+r);e.setAttribute(n,i)}else e.setAttribute(n,r)}return e}},{key:"getPositionStyle",value:function(e,t){return{left:100*e+"%",top:100*t+"%"}}},{key:"createFromObject",value:function(t){return new e(t.position,t.text,t.buttonAttributes,t.popupAttributes)}}]),e}();t.exports=l},{"./util/object-is":18,"./util/type-error-message":19,"dispatch-event":6}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],r={taggd:t};return n&&(r.tag=n),new CustomEvent(e,{detail:r})}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],r={taggd:t};return n&&(r.tag=n),new CustomEvent(e,{cancelable:!0,detail:r})}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("dispatch-event"),c=e("./Tag"),l=e("./util/object-is"),f=e("./util/type-error-message");Number.isInteger=Number.isInteger||e("number-is-integer");var p=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];r(this,e),this.wrapper=document.createElement("div"),this.wrapper.classList.add("taggd"),this.wrapper.insertBefore(t),t.parentElement.removeChild(t),this.wrapper.appendChild(t),this.image=t,this.tags=[],this.setOptions(n),this.setTags(o);var s=i("taggd.init",this);u(this.image,s)}return a(e,[{key:"setOptions",value:function(t){if(!l.ofType(t,"object"))throw new TypeError(f.getObjectMessage(tag));this.options=s({},e.DEFAULT_OPTIONS,t)}},{key:"addTag",value:function(e){if(!l.ofInstance(e,c))throw new TypeError(f.getTagMessage(e));var t=o("taggd.tag.add",this,e),n=!u(this.image,t);if(!n){e.buttonElement.addEventListener(this.options.show,function(){return e.show()}),e.buttonElement.addEventListener(this.options.hide,function(){return e.hide()}),this.tags.push(e),this.wrapper.appendChild(e.buttonElement),this.wrapper.appendChild(e.popupElement);var r=i("taggd.tag.added",this,e);u(this.image,r)}return this}},{key:"getTag",value:function(e){if(!Number.isInteger(e))throw new TypeError(f.getIntegerMessage(e));return this.tags[e]}},{key:"deleteTag",value:function(e){if(!Number.isInteger(e))throw new TypeError(f.getIntegerMessage(e));if(!this.tags[e])throw new Error("Tag at index "+e+" does not exist.");var t=this.tags[e],n=o("taggd.tag.delete",this,t),r=!u(this.image,n);if(!r){this.wrapper.removeChild(t.buttonElement),this.wrapper.removeChild(t.popupElement),this.tags.splice(t,1);var s=i("taggd.tag.deleted",this,t);u(this.image,s)}return this}},{key:"setTags",value:function(e){return this.deleteTags(),this.addTags(e),this}},{key:"addTags",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError(f.getArrayMessage(e,"Taggd.Tag"));return e.forEach(function(e){return t.addTag(e)}),this}},{key:"getTags",value:function(){return this.tags}},{key:"deleteTags",value:function(){return this.tags.slice(0,this.tags.length),this}},{key:"map",value:function(e){if(!l["function"](e))throw new TypeError(f.getFunctionMessage(e));return this.tags=this.tags.map(e),this}},{key:"destroy",value:function(){var e=i("taggd.destroy",this),t=!u(this.image,e);t||this.deleteTags()}},{key:"enableEditorMode",value:function(){var e=i("taggd.editor.enable",this);!u(this.image,e)}},{key:"disableEditorMode",value:function(){var e=i("taggd.editor.disable",this);!u(this.image,e)}}]),e}();p.DEFAULT_OPTIONS={show:"mouseenter",hide:"mouseleave"},t.exports=p,t.exports.Tag=c,window.Taggd=t.exports},{"./Tag":16,"./util/object-is":18,"./util/type-error-message":19,"dispatch-event":6,"number-is-integer":11}],18:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.exports={ofInstance:function(e,t){return e instanceof t},ofType:function(e,t){return("undefined"==typeof e?"undefined":r(e))===t},"function":function(e){return"function"==typeof e},number:function(e){return!isNaN(parseFloat(e))}}},{}],19:[function(e,t,n){"use strict";var r={getMessage:function(e,t){return e+" should be "+t},getArrayMessage:function(e,t){return t?this.getTypeErrorMessage(e,"an array of "+t):this.getTypeErrorMessage(e,"an array")},getFunctionMessage:function(e){return this.getTypeErrorMessage(e,"a function")},getIntegerMessage:function(e){return this.getTypeErrorMessage(e,"an integer")},getObjectMessage:function(e){return this.getTypeErrorMessage(e,"an object")},getTagMessage:function(e){return this.getTypeErrorMessage(e,"a tag")},getTypeErrorMessage:function(e,t){return e+" is not a "+t}};t.exports=r},{}]},{},[17]);
//# sourceMappingURL=taggd.min.js.map
